@import "tailwindcss";
@plugin "@tailwindcss/typography";
@plugin "@tailwindcss/forms";
@plugin "@tailwindcss/container-queries";

/* Dubai font */
@font-face {
  font-family: "Dubai";
  src: url("/fonts/Dubai-Regular.woff2") format("woff2");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Dubai";
  src: url("/fonts/Dubai-Medium.woff2") format("woff2");
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Dubai";
  src: url("/fonts/Dubai-Bold.woff2") format("woff2");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

/* Base tokens */
:root{
  --font-dubai: "Dubai", sans-serif;
  /* Ink/Neutral scale */
  --ink-900:#0B0F14; --ink-800:#1A232C; --slate-600:#6A7D8F;
  --neutral-0:#FFFFFF; --neutral-50:#F6F8FA; --neutral-100:#EDF2F6; --neutral-200:#D9E1E9;
  --neutral-300:#C2CDD8; --neutral-400:#A9B7C5; --neutral-500:#90A1B2; --neutral-600:#6A7D8F;
  --neutral-700:#44515D; --neutral-800:#28313A; --neutral-900:#0B0F14;
  /* Accent (Purple 2025 — default) */
  --accent-200:#D7C7FF; --accent-300:#B79AFF; --accent-400:#8E5BFF; --accent-500:#6C2BFF; --accent-700:#4A1FC9;
  /* Aliases */
  --bg:var(--neutral-0); --text:var(--ink-900); --card:var(--neutral-50); --elev:var(--neutral-100);
  --bg-light:var(--bg); --text-light:var(--text); --bg-dark:var(--ink-900); --text-dark:#FFFFFF;
  /* Radii/Shadows/Focus */
  --radius:14px; --radius-sm:10px; --shadow:0 8px 30px rgba(0,0,0,.08);
  --focus:0 0 0 3px var(--neutral-0), 0 0 0 6px var(--accent-400);
}

/* Optional preview: switch to Indigo 2025 palette */
[data-palette="indigo2025"]{
  --accent-200:#C3D0FF; --accent-300:#9AB1FF; --accent-400:#6A86FF; --accent-500:#3E5BFF; --accent-700:#253DB8;
}

@theme inline {
  --color-background: var(--bg);
  --color-foreground: var(--text);
  --font-sans: var(--font-dubai);
  --font-mono: ui-monospace, SFMono-Regular, Menlo, monospace;
}

@media (prefers-color-scheme: dark) {
  /* نظام الجهاز داكن: وفّر قيم افتراضية كاملة حتى قبل تفعيل مزوّد الثيم */
  :root {
    --bg: var(--ink-900);
    --text: #FFFFFF;
    --card: var(--ink-800);
    --elev: rgba(255, 255, 255, 0.12);
    --slate-600: #9AA5B1;
  }
  /* اجعل شعارات العملاء فاتحة على الخلفية الداكنة عند اعتماد تفضيل النظام */
  .logo-enhanced { filter: brightness(0) invert(1); }
}

/* Explicit theme overrides */
[data-theme="dark"], .dark {
  /* أساسيات الوضع الداكن */
  --bg: var(--ink-900);
  --text: #FFFFFF;
  /* أسطح وبوردريات مناسبة للداكن (أفتح قرب الأبيض) */
  --card: rgba(255, 255, 255, 0.08);
  /* حد أوضح */
  --elev: rgba(255, 255, 255, 0.24);
  /* نص ثانوي أفتح */
  --slate-600: #C9D3DD;
}
[data-theme="light"] {
  --bg: var(--neutral-0);
  --text: var(--ink-900);
  --card: var(--neutral-50);
  --elev: var(--neutral-100);
  --slate-600: #6A7D8F;
}

html, body {
  background: var(--bg);
  color: var(--text);
  min-height: 100%;
}

/* تحسين الأداء للموبايل وSafari */
* {
  -webkit-tap-highlight-color: transparent;
}

html {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

/* تحسين الموبايل */
body {
  min-width: 320px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ملاحظة مهمة: لا نقلص زمن الـ animation عالمياً حتى لا نفسد ماركيه/موشن 
   خصوصاً على Safari iOS. بدلاً من ذلك نترك المدد كما هي */

/* Utility buttons baseline */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding-inline: 16px;
  height: 44px;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  transition: background-color .2s ease, color .2s ease, box-shadow .2s ease, transform .2s ease;
}
.btn-cta {
  background: var(--accent-500);
  color: var(--text-dark);
}
.btn-cta:hover { background: var(--accent-700); }
.btn-cta:disabled { background: var(--accent-300); opacity: .8; }
.btn:focus-visible { outline: none; box-shadow: var(--focus); }

/* تحسين عرض الشعارات */
.logo-enhanced {
  transition: transform 0.3s ease, filter 0.3s ease;
}
.logo-enhanced:hover { transform: scale(1.05); }
/* تطبيع ألوان شعارات العملاء: أبيض صافي بالداكن، ورمادي غامق بالفاتح */
[data-theme="dark"] .logo-enhanced, .dark .logo-enhanced { filter: brightness(0) invert(1); }
[data-theme="light"] .logo-enhanced { filter: brightness(0) saturate(0) opacity(.85); }

/* شعار البراند: يظل بألوانه الأصلية في الفاتح والداكن بدون أي فلاتر */
.brand-logo { transition: transform 0.3s ease; filter: none !important; }
.brand-logo:hover { transform: scale(1.05); }

/* لا نستخدم embla الآن؛ ضبط المسافات العامة للماركيه يتم داخل المكوّن */

/* تحسين responsive للشعارات */
@media (min-width: 768px) { .logo-enhanced { max-height: 5.5rem; min-width: 10rem; } }
@media (min-width: 1024px) { .logo-enhanced { max-height: 7rem; min-width: 12rem; } }

/* Logo dark mode fix */
@media (prefers-color-scheme: dark) {
  .logo svg [fill="#000000"],
  .logo svg [style*="fill:#000000"],
  .brand-logo [fill="#000000"],
  .brand-logo [style*="fill:#000000"] {
    fill: white !important;
  }
}

/* Header logo responsive sizing */
.brand-logo {
  transition: transform 0.2s ease, filter 0.2s ease;
  max-height: 1.75rem; /* 28px base */
  width: auto;
  min-width: 7rem; /* 112px - نسبة الشعار المدمج */
  object-fit: contain;
}

/* Mobile adjustments */
@media (max-width: 768px) {
  .brand-logo {
    max-height: 1.5rem; /* 24px on mobile */
    min-width: 6rem; /* 96px */
  }
}

/* Medium screens and up */
@media (min-width: 768px) {
  .brand-logo {
    max-height: 2rem; /* 32px on md+ */
    min-width: 7.5rem; /* 120px */
  }
}

/* Large screens */
@media (min-width: 1024px) {
  .brand-logo {
    max-height: 2.25rem; /* 36px on lg+ */
    min-width: 8rem; /* 128px */
  }
}

.brand-logo:hover {
  transform: scale(1.02);
}

/* iOS Safari fallback لماركيه: تحريك باستخدام Keyframes عندما يتعطل rAF */
.marquee-fallback {
  animation: marqueeSlide var(--marquee-duration, 20s) linear infinite;
  transform: translate3d(0,0,0);
}
@keyframes marqueeSlide {
  from { transform: translate3d(0,0,0); }
  to { transform: translate3d(calc(-1 * var(--marquee-seam, 600px)), 0, 0); }
}
