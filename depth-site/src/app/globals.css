@import "tailwindcss";
@plugin "@tailwindcss/typography";
@plugin "@tailwindcss/forms";
@plugin "@tailwindcss/container-queries";

/* Dubai font */
@font-face {
  font-family: "Dubai";
  src: url("/fonts/Dubai-Regular.woff2") format("woff2");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Dubai";
  src: url("/fonts/Dubai-Medium.woff2") format("woff2");
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Dubai";
  src: url("/fonts/Dubai-Bold.woff2") format("woff2");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

/* Base tokens */
:root{
  --font-dubai: "Dubai", sans-serif;
  /* Ink/Neutral scale */
  --ink-900:#0B0F14; --ink-800:#1A232C; 
  --slate-50:#E9EEF5; --slate-600:#181e23; --slate-700:#121518;
  --neutral-0:#FFFFFF; --neutral-50:#F6F8FA; --neutral-100:#EDF2F6; --neutral-200:#D9E1E9;
  --neutral-300:#C2CDD8; --neutral-400:#A9B7C5; --neutral-500:#90A1B2; --neutral-600:#6A7D8F;
  --neutral-700:#44515D; --neutral-800:#28313A; --neutral-900:#0B0F14;
  /* Accent (Purple 2025 — default) */
  --accent-200:#D7C7FF; --accent-300:#B79AFF; --accent-400:#8E5BFF; --accent-500:#6C2BFF; --accent-700:#4A1FC9;
  /* Brand aliases (central brand tokens) */
  --brand-200: var(--accent-200);
  --brand-300: var(--accent-300);
  --brand-400: var(--accent-400);
  --brand-500: var(--accent-500);
  --brand-600: var(--accent-600);
  --brand-700: var(--accent-700);
  --brand: var(--brand-500);
  /* Aliases */
  --primary: var(--brand-500);
  --bg:var(--neutral-0); 
  --text:var(--ink-900);
  --card:var(--neutral-50); 
  --elev:var(--neutral-100);
  /* unified tokens used across components */
  --border: var(--elev);
  --bg-secondary: var(--neutral-100);
  /* unified panels (no gradients) */
  --panel: var(--card); /* default panel */
  --panel-strong: var(--neutral-200); /* stronger panel for headers/callouts */
  /* status tokens (light defaults) */
  --success-bg:#ECFDF5; --success-fg:#065F46; --success-border:#A7F3D0;
  --warning-bg:#FFFBEB; --warning-fg:#92400E; --warning-border:#FDE68A;
  --danger-bg:#FEF2F2; --danger-fg:#991B1B; --danger-border:#FECACA;
  --bg-light:var(--bg); --text-light:var(--text); --bg-dark:var(--ink-900); --text-dark:#FFFFFF;
  /* text muted token */
  --muted: var(--slate-600);
  /* RGB values for fallback usage */
  --bg-rgb: 255,255,255;
  /* Radii/Shadows/Focus */
  --radius:14px; --radius-sm:10px; --shadow:0 8px 30px rgba(0,0,0,.08);
  --focus:0 0 0 3px var(--neutral-0), 0 0 0 6px var(--brand-400);
}

/* Optional preview: switch to Indigo 2025 palette */
[data-palette="indigo2025"]{
  --accent-200:#C3D0FF; --accent-300:#9AB1FF; --accent-400:#6A86FF; --accent-500:#3E5BFF; --accent-700:#253DB8;
}

@layer base {
  :root {
    --color-background: var(--bg);
    --color-foreground: var(--text);
    --font-sans: var(--font-dubai);
    --font-mono: ui-monospace, SFMono-Regular, Menlo, monospace;
  }
}

/* Unified Dark Theme System */
[data-theme="dark"], 
.dark {
    /* أساسيات الوضع الداكن */
    --bg: var(--ink-900);
    --text: #FFFFFF;
    /* أسطح وبوردريات مناسبة للداكن */
    --card: rgba(255, 255, 255, 0.08);
    --elev: rgba(255, 255, 255, 0.24);
    --border: var(--elev);
    --bg-secondary: rgba(255, 255, 255, 0.12);
    --panel: rgba(255, 255, 255, 0.08);
    --panel-strong: rgba(255, 255, 255, 0.16);
    /* status tokens for dark */
    --success-bg: rgba(16,185,129,0.12); --success-fg:#86EFAC; --success-border: rgba(16,185,129,0.3);
    --warning-bg: rgba(245,158,11,0.12); --warning-fg:#FCD34D; --warning-border: rgba(245,158,11,0.3);
    --danger-bg: rgba(239,68,68,0.12); --danger-fg:#FCA5A5; --danger-border: rgba(239,68,68,0.3);
    /* نص ثانوي محسن */
    --slate-50: rgba(233, 238, 245, 0.16);
    --slate-600: #C9D3DD;
    --slate-700: #CBD5E1;
    --muted: var(--slate-600);
    /* RGB values for dark mode */
    --bg-rgb: 11,15,20;
  }

@media (prefers-color-scheme: dark) {
  :root {
    /* أساسيات الوضع الداكن */
    --bg: var(--ink-900);
    --text: #FFFFFF;
    /* أسطح وبوردريات مناسبة للداكن */
    --card: rgba(255, 255, 255, 0.08);
    --elev: rgba(255, 255, 255, 0.24);
    --border: var(--elev);
    --bg-secondary: rgba(255, 255, 255, 0.12);
    --panel: rgba(255, 255, 255, 0.08);
    --panel-strong: rgba(255, 255, 255, 0.16);
    /* نص ثانوي محسن */
    --slate-50: rgba(248, 250, 252, 0.1);
    --slate-600: #C9D3DD;
    --slate-700: #CBD5E1;
    /* RGB values for dark mode */
    --bg-rgb: 11,15,20;
  }
  
  /* شعارات العملاء - فاتحة على الخلفية الداكنة */
  .logo-enhanced { 
    filter: brightness(0) invert(1); 
  }
}
[data-theme="light"] {
  --bg: var(--neutral-0);
  --text: var(--ink-900);
  --card: var(--neutral-50);
  --elev: var(--neutral-100);
  --border: var(--elev);
  --bg-secondary: var(--neutral-100);
  --panel: var(--neutral-50);
  --panel-strong: var(--neutral-200);
  --slate-600: #6A7D8F;
  --muted: var(--slate-600);
  /* status tokens for light */
  --success-bg:#ECFDF5; --success-fg:#065F46; --success-border:#A7F3D0;
  --warning-bg:#FFFBEB; --warning-fg:#92400E; --warning-border:#FDE68A;
  --danger-bg:#FEF2F2; --danger-fg:#991B1B; --danger-border:#FECACA;
}

html, body {
  background: var(--bg);
  color: var(--text);
  min-height: 100%;
  max-width: 100%;
  width: 100%;
  touch-action: pan-y pinch-zoom;
}

/* Unified, modern scroll system */
/* Both axes, used for data tables/cards with sticky headers inside */
.scroll-xy {
  position: relative;
  overflow: auto;
  max-height: var(--scroll-max, 72vh);
  max-block-size: var(--scroll-max, 72vh);
  overscroll-behavior: contain;
  -webkit-overflow-scrolling: touch;
}

/* Vertical only (lists/panels) */
.scroll-y {
  position: relative;
  overflow-y: auto;
  overflow-x: hidden;
  max-height: var(--scroll-max, 72vh);
  max-block-size: var(--scroll-max, 72vh);
  overscroll-behavior: contain;
  -webkit-overflow-scrolling: touch;
}

/* Horizontal only (wide tables) */
.scroll-x-only {
  overflow-x: auto;
  overflow-y: visible;
  -webkit-overflow-scrolling: touch;
  touch-action: pan-x pan-y;
}

/* Safe area padding for iOS notch within sticky headers if needed */
.safe-area-inline {
  padding-left: max(env(safe-area-inset-left), 0px);
  padding-right: max(env(safe-area-inset-right), 0px);
}

/* تحسين الأداء للموبايل وSafari */
* {
  -webkit-tap-highlight-color: transparent;
}

html {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
  overscroll-behavior-x: none;
}

/* تحسين الموبايل */
body {
  min-width: 320px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden; /* منع التمرير الأفقي عالمياً */
}

/* منع التمرير الأفقي في جميع العناصر الرئيسية */
html, body, #__next, main {
  max-width: 100%;
  overflow-x: hidden;
  width: 100%;
}

@supports (overflow: clip) {
  html, body, #__next, main {
    overflow-x: clip;
  }
}

/* Media elements should never overflow horizontally */
img,svg,video,canvas { max-width: 100%; height: auto; }

/* Ensure border-box sizing to prevent width accumulation */
*, *::before, *::after { box-sizing: border-box; }

/* ملاحظة مهمة: لا نقلص زمن الـ animation عالمياً حتى لا نفسد ماركيه/موشن 
   خصوصاً على Safari iOS. بدلاً من ذلك نترك المدد كما هي */

/* Utility buttons baseline */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding-inline: 16px;
  height: 44px;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  transition: background-color .2s ease, color .2s ease, box-shadow .2s ease, transform .2s ease;
}
.btn-cta {
  background: var(--brand-500);
  color: var(--text-dark);
}
.btn-cta:hover { background: var(--brand-700); }
.btn-cta:disabled { background: var(--brand-300); opacity: .8; }
.btn:focus-visible { outline: none; box-shadow: var(--focus); }

/* تحسين عرض الشعارات */
.logo-enhanced {
  transition: transform 0.3s ease, filter 0.3s ease;
}
.logo-enhanced:hover { transform: scale(1.05); }
/* تطبيع ألوان شعارات العملاء: أبيض صافي بالداكن، ورمادي غامق بالفاتح */
[data-theme="dark"] .logo-enhanced, .dark .logo-enhanced { filter: brightness(0) invert(1); }
[data-theme="light"] .logo-enhanced { filter: brightness(0) saturate(0) opacity(.85); }

/* شعار البراند: يتكيف مع الوضع الداكن والفاتح */
.brand-logo { transition: transform 0.3s ease, filter 0.3s ease; }
[data-theme="dark"] .brand-logo, .dark .brand-logo { filter: brightness(0) invert(1); }
.brand-logo:hover { transform: scale(1.05); }

/* Marquee spacing is handled by react-fast-marquee */

/* تحسين responsive للشعارات */
@media (min-width: 768px) { .logo-enhanced { max-height: 5.5rem; min-width: 10rem; } }
@media (min-width: 1024px) { .logo-enhanced { max-height: 7rem; min-width: 12rem; } }

/* Logo dark mode fix */
@media (prefers-color-scheme: dark) {
  .logo svg [fill="#000000"],
  .logo svg [style*="fill:#000000"],
  .brand-logo [fill="#000000"],
  .brand-logo [style*="fill:#000000"] {
    fill: white !important;
  }
}

/* Header logo responsive sizing */
.brand-logo {
  transition: transform 0.2s ease, filter 0.2s ease;
  max-height: 1.75rem; /* 28px base */
  width: auto;
  min-width: 7rem; /* 112px - نسبة الشعار المدمج */
  object-fit: contain;
}

/* Mobile adjustments */
@media (max-width: 768px) {
  .brand-logo {
    max-height: 1.5rem; /* 24px on mobile */
    min-width: 6rem; /* 96px */
  }
}

/* Medium screens and up */
@media (min-width: 768px) {
  .brand-logo {
    max-height: 2rem; /* 32px on md+ */
    min-width: 7.5rem; /* 120px */
  }
}

/* Large screens */
@media (min-width: 1024px) {
  .brand-logo {
    max-height: 2.25rem; /* 36px on lg+ */
    min-width: 8rem; /* 128px */
  }
}

.brand-logo:hover {
  transform: scale(1.02);
}

/* Enhanced Scrolling for Desktop */
.smooth-scroll {
  scroll-behavior: smooth;
}

/* Custom Scrollbar Styles for Better Desktop Experience */
@media (min-width: 1024px) {
  .overflow-auto::-webkit-scrollbar,
  .scroll-xy::-webkit-scrollbar,
  .scroll-y::-webkit-scrollbar,
  .scroll-x-only::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  .overflow-auto::-webkit-scrollbar-track,
  .scroll-xy::-webkit-scrollbar-track,
  .scroll-y::-webkit-scrollbar-track,
  .scroll-x-only::-webkit-scrollbar-track {
    background: var(--bg);
    border-radius: 4px;
  }
  
  .overflow-auto::-webkit-scrollbar-thumb,
  .scroll-xy::-webkit-scrollbar-thumb,
  .scroll-y::-webkit-scrollbar-thumb,
  .scroll-x-only::-webkit-scrollbar-thumb {
    background: var(--accent-500);
    border-radius: 4px;
    transition: background-color 0.2s ease;
  }
  
  .overflow-auto::-webkit-scrollbar-thumb:hover,
  .scroll-xy::-webkit-scrollbar-thumb:hover,
  .scroll-y::-webkit-scrollbar-thumb:hover,
  .scroll-x-only::-webkit-scrollbar-thumb:hover {
    background: var(--accent-600);
  }
  
  .overflow-auto::-webkit-scrollbar-corner,
  .scroll-xy::-webkit-scrollbar-corner,
  .scroll-y::-webkit-scrollbar-corner,
  .scroll-x-only::-webkit-scrollbar-corner {
    background: var(--bg);
  }
}

/* Firefox Scrollbar */
@supports (scrollbar-width: thin) {
  .overflow-auto,
  .scroll-xy,
  .scroll-y,
  .scroll-x-only {
    scrollbar-width: thin;
    scrollbar-color: var(--accent-500) var(--bg);
  }
}

/* Enhanced Hover Effects for Desktop */
@media (min-width: 1024px) {
  /* Dropdown hover effects */
  button:hover {
    transform: translateY(-1px);
    transition: all 0.2s ease;
  }
  
  /* Table hover effects */
  tr:hover {
    transform: translateX(2px);
    transition: all 0.15s ease;
  }
  
  /* Enhanced button interactions */
  .hover\:bg-\[var\(--elev\)\]:hover {
    background-color: var(--elev);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }
}

/* Mobile Table Optimizations */
@media (max-width: 768px) {
  /* Compact table styling */
  table {
    font-size: 12px;
  }
  
  table th,
  table td {
    padding: 8px 6px !important;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 80px;
  }
  
  /* Make action buttons smaller */
  table td .flex.items-center.gap-2 button {
    padding: 4px 8px !important;
    font-size: 11px !important;
  }
  
  table td .flex.items-center.gap-2 button svg {
    width: 12px !important;
    height: 12px !important;
  }
  
  /* Hide less important columns on mobile */
  table th:nth-child(4),
  table td:nth-child(4),
  table th:nth-child(5),
  table td:nth-child(5) {
    display: none;
  }
  
  /* Adjust container height for small screens */
  .overflow-auto,
  .scroll-xy,
  .scroll-y {
    max-height: min(60vh, var(--scroll-max, 60vh)) !important;
  }
}

/* Marquee styles for react-fast-marquee */
