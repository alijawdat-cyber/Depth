<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Depth Platform - Ù…Ù†ØµØ© Ù…ØªÙƒØ§Ù…Ù„Ø© Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ©" />
  <title>Depth Documentation v2.0</title>
  <link rel="icon" href="icon.svg" type="image/svg+xml" />
  
  <!-- Docsify Core -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css" />
  
  <!-- Custom Theme -->
  <link rel="stylesheet" href="custom-theme.css" />
  
  <!-- Prism Theme for Code Highlighting -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.css" />
</head>
<body>
  <!-- Loading Screen -->
  <div id="loading-screen" class="loading-screen">
    <div class="loading-content">
      <div class="loading-spinner"></div>
      <div class="loading-text">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙˆØ«ÙŠÙ‚...</div>
    </div>
  </div>

  <!-- Main App Container -->
  <div id="app">ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±...</div>

  <!-- Mobile Menu Toggle -->
  <button id="menuToggle" class="mobile-menu" type="button" aria-label="ÙØªØ­ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©">
    <svg class="menu-icon" width="20" height="20" viewBox="0 0 24 24" fill="none">
      <path d="M3 12h18M3 6h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    </svg>
    <span class="menu-text">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</span>
  </button>

  <!-- Back to Top Button -->
  <button id="backToTop" class="back-to-top" aria-label="Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ø¹Ù„Ù‰">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
      <path d="M12 19V5M5 12l7-7 7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </button>

  <!-- Theme Toggle -->
  <button id="themeToggle" class="theme-toggle" aria-label="ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹">
    <svg class="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none">
      <circle cx="12" cy="12" r="5" stroke="currentColor" stroke-width="2"/>
      <path d="M12 1v2m0 18v2m9-11h-2M5 12H3m16.364-6.364l-1.414 1.414M7.05 16.95l-1.414 1.414m12.728 0l-1.414-1.414M7.05 7.05L5.636 5.636" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    </svg>
    <svg class="moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" style="display: none;">
      <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </button>

  <!-- Reading Progress Bar -->
  <div id="readingProgress" class="reading-progress"></div>

  <!-- Toast Container -->
  <div id="toastContainer" class="toast-container"></div>

  <!-- Keyboard Shortcuts Modal -->
  <div id="shortcutsModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Ø§Ø®ØªØµØ§Ø±Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­</h3>
        <button class="modal-close" onclick="toggleShortcuts()">&times;</button>
      </div>
      <div class="modal-body">
        <div class="shortcut-item">
          <kbd>/</kbd> Ø£Ùˆ <kbd>Ctrl</kbd> + <kbd>K</kbd>
          <span>Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø³Ø±ÙŠØ¹</span>
        </div>
        <div class="shortcut-item">
          <kbd>G</kbd> Ø«Ù… <kbd>H</kbd>
          <span>Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
        </div>
        <div class="shortcut-item">
          <kbd>â†</kbd> / <kbd>â†’</kbd>
          <span>Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª</span>
        </div>
        <div class="shortcut-item">
          <kbd>T</kbd>
          <span>ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ</span>
        </div>
        <div class="shortcut-item">
          <kbd>?</kbd>
          <span>Ø¹Ø±Ø¶ Ø§Ù„Ø§Ø®ØªØµØ§Ø±Ø§Øª</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script>
    // ============================================
    // Configuration
    // ============================================
    window.$docsify = {
      name: 'Depth',
      repo: 'https://github.com/depth-platform/docs',
      homepage: 'main.md',
      loadSidebar: true,
      loadNavbar: false,
      subMaxLevel: 3,
      auto2top: true,
      maxLevel: 4,
      
      // Search Configuration
      search: {
        paths: 'auto',
        placeholder: 'Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„ØªÙˆØ«ÙŠÙ‚...',
        noData: 'Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù†ØªØ§Ø¦Ø¬',
        depth: 6,
        hideOtherSidebarContent: false,
        namespace: 'depth-docs-v2'
      },
      
      // Copy Code Configuration
      copyCode: {
        buttonText: 'Ù†Ø³Ø®',
        errorText: 'Ø®Ø·Ø£',
        successText: 'ØªÙ… Ø§Ù„Ù†Ø³Ø®!'
      },
      
      // Pagination
      pagination: {
        previousText: 'Ø§Ù„Ø³Ø§Ø¨Ù‚',
        nextText: 'Ø§Ù„ØªØ§Ù„ÙŠ',
        crossChapter: true,
        crossChapterText: true,
      },
      
      // Custom 404 Page
      notFoundPage: {
        '/': '404.md'
      },
      
      // Plugins
      plugins: [
        // Main Enhancement Plugin
        function(hook, vm) {
          // ========================================
          // Initialize
          // ========================================
          hook.init(function() {
            // Load saved theme
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.body.setAttribute('data-theme', savedTheme);
            updateThemeIcon(savedTheme);
            
            // Load saved sidebar state
            const sidebarState = localStorage.getItem('sidebarState');
            if (sidebarState) {
              try {
                window.sidebarOpenSections = JSON.parse(sidebarState);
              } catch(e) {
                window.sidebarOpenSections = [];
              }
            }
          });
          
          // ========================================
          // Before Each Page Render
          // ========================================
          hook.beforeEach(function(content) {
            // Add breadcrumbs placeholder
            const breadcrumbs = '<div id="breadcrumbs" class="breadcrumbs"></div>';
            
            // Add reading time
            const wordCount = content.split(/\s+/).length;
            const readingTime = Math.ceil(wordCount / 200);
            const readingTimeHtml = `
              <div class="reading-meta">
                <span class="reading-time">â±ï¸ ${readingTime} Ø¯Ù‚Ø§Ø¦Ù‚ Ù‚Ø±Ø§Ø¡Ø©</span>
                <span class="word-count">ğŸ“ ${wordCount} ÙƒÙ„Ù…Ø©</span>
              </div>
            `;
            
            return breadcrumbs + readingTimeHtml + content;
          });
          
          // ========================================
          // After Each Page Render
          // ========================================
          hook.doneEach(function() {
            // Hide loading screen
            const loadingScreen = document.getElementById('loading-screen');
            if (loadingScreen) {
              loadingScreen.style.opacity = '0';
              setTimeout(() => {
                loadingScreen.style.display = 'none';
              }, 300);
            }
            
            // Update breadcrumbs
            updateBreadcrumbs();
            
            // Setup floating TOC
            setupFloatingTOC();
            
            // Enhance headings with anchors
            enhanceHeadings();
            
            // Setup sidebar enhancements
            enhanceSidebar();
            
            // Update reading progress
            updateReadingProgress();
            
            // Setup feedback widget
            setupFeedbackWidget();
            
            // Initialize tooltips
            initTooltips();
            
            // Save scroll position
            saveScrollPosition();
          });
          
          // ========================================
          // Mounted
          // ========================================
          hook.mounted(function() {
            // Setup keyboard shortcuts
            setupKeyboardShortcuts();
            
            // Setup back to top button
            setupBackToTop();
            
            // Setup theme toggle
            setupThemeToggle();
            
            // Setup mobile menu
            setupMobileMenu();
            
            // Restore scroll position
            restoreScrollPosition();
          });
          
          // ========================================
          // Ready
          // ========================================
          hook.ready(function() {
            // Add version selector
            addVersionSelector();
            
            // Track search queries
            trackSearchQueries();
            
            // Show welcome message for first-time visitors
            if (!localStorage.getItem('welcomed')) {
              showToast('Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ ØªÙˆØ«ÙŠÙ‚ Depth! Ø§Ø³ØªØ®Ø¯Ù… / Ù„Ù„Ø¨Ø­Ø« Ø§Ù„Ø³Ø±ÙŠØ¹', 'info', 5000);
              localStorage.setItem('welcomed', 'true');
            }
          });
        }
      ]
    };
    
    // ============================================
    // Helper Functions
    // ============================================
    
    // Icons Library
    const icons = {
      home: '<svg viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/></svg>',
      requirements: '<svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>',
      database: '<svg viewBox="0 0 24 24"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/></svg>',
      api: '<svg viewBox="0 0 24 24"><path d="M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 003 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4A2 2 0 0021 16z"/></svg>',
      features: '<svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><line x1="9" y1="9" x2="15" y2="15"/><line x1="15" y1="9" x2="9" y2="15"/></svg>',
      admin: '<svg viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>',
      integrations: '<svg viewBox="0 0 24 24"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>',
      development: '<svg viewBox="0 0 24 24"><polyline points="4 17 10 11 4 5"/><line x1="12" y1="19" x2="20" y2="19"/></svg>',
      mobile: '<svg viewBox="0 0 24 24"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"/><line x1="12" y1="18" x2="12.01" y2="18"/></svg>',
      security: '<svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>',
      operations: '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M12 1v6m0 6v6m4.22-13.22l4.24 4.24M1.54 12h6m6 6l4.24 4.24"/></svg>',
      reference: '<svg viewBox="0 0 24 24"><path d="M4 19.5A2.5 2.5 0 016.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 014 19.5v-15A2.5 2.5 0 016.5 2z"/></svg>',
      arrow: '<svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>',
      copy: '<svg viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>',
      check: '<svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg>'
    };
    
    // Update Breadcrumbs
    function updateBreadcrumbs() {
      const breadcrumbsEl = document.getElementById('breadcrumbs');
      if (!breadcrumbsEl) return;
      
      const path = window.location.hash.replace('#/', '').split('/');
      let breadcrumbs = '<a href="#/">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>';
      let currentPath = '#/';
      
      path.forEach((segment, index) => {
        if (segment) {
          currentPath += segment + '/';
          const name = segment.replace(/-/g, ' ');
          if (index === path.length - 1) {
            breadcrumbs += ` â€º <span class="current">${name}</span>`;
          } else {
            breadcrumbs += ` â€º <a href="${currentPath}">${name}</a>`;
          }
        }
      });
      
      breadcrumbsEl.innerHTML = breadcrumbs;
    }
    
    // Setup Floating TOC
    function setupFloatingTOC() {
      const content = document.querySelector('.markdown-section');
      if (!content) return;
      
      const headings = content.querySelectorAll('h2, h3');
      if (headings.length < 3) return; // Only show for longer content
      
      // Remove existing TOC
      const existingTOC = document.getElementById('floating-toc');
      if (existingTOC) existingTOC.remove();
      
      // Create TOC
      const toc = document.createElement('div');
      toc.id = 'floating-toc';
      toc.className = 'floating-toc';
      toc.innerHTML = '<div class="toc-title">ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø©</div><ul class="toc-list"></ul>';
      
      const tocList = toc.querySelector('.toc-list');
      
      headings.forEach((heading, index) => {
        const id = `heading-${index}`;
        heading.id = id;
        
        const li = document.createElement('li');
        li.className = heading.tagName.toLowerCase();
        
        const a = document.createElement('a');
        a.href = `#${id}`;
        a.textContent = heading.textContent;
        a.onclick = (e) => {
          e.preventDefault();
          heading.scrollIntoView({ behavior: 'smooth', block: 'start' });
        };
        
        li.appendChild(a);
        tocList.appendChild(li);
      });
      
      content.appendChild(toc);
      
      // Highlight current section on scroll
      let scrollTimeout;
      window.addEventListener('scroll', () => {
        clearTimeout(scrollTimeout);
        scrollTimeout = setTimeout(() => {
          const scrollPos = window.scrollY + 100;
          
          headings.forEach((heading, index) => {
            const link = tocList.children[index].querySelector('a');
            if (heading.offsetTop <= scrollPos && 
                (!headings[index + 1] || headings[index + 1].offsetTop > scrollPos)) {
              link.classList.add('active');
            } else {
              link.classList.remove('active');
            }
          });
        }, 50);
      });
    }
    
    // Enhance Headings with Anchors
    function enhanceHeadings() {
      const headings = document.querySelectorAll('.markdown-section h1, .markdown-section h2, .markdown-section h3, .markdown-section h4');
      
      headings.forEach(heading => {
        if (!heading.querySelector('.heading-anchor')) {
          const anchor = document.createElement('a');
          anchor.className = 'heading-anchor';
          anchor.href = '#' + heading.id;
          anchor.innerHTML = '#';
          anchor.onclick = (e) => {
            e.preventDefault();
            const url = window.location.href.split('#')[0] + anchor.getAttribute('href');
            navigator.clipboard.writeText(url);
            showToast('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·!', 'success');
          };
          heading.appendChild(anchor);
        }
      });
    }
    
    // Enhance Sidebar
    function enhanceSidebar() {
      const sidebar = document.querySelector('.sidebar');
      if (!sidebar) return;
      
      // Add custom header if not exists
      if (!sidebar.querySelector('.sidebar-header')) {
        const header = document.createElement('div');
        header.className = 'sidebar-header';
        header.innerHTML = `
          <div class="sidebar-logo">
            <svg viewBox="0 0 24 24">
              <circle cx="12" cy="12" r="10" fill="white"/>
              <circle cx="12" cy="12" r="3" fill="var(--depth-purple-500)"/>
            </svg>
          </div>
          <div class="sidebar-title">Depth Documentation</div>
          <div class="sidebar-version">
            <span class="version-badge">v2.0</span>
            <span class="version-badge">RTL</span>
          </div>
        `;
        sidebar.insertBefore(header, sidebar.firstChild);
      }
      
      // Enhance navigation items
      const navRoot = document.querySelector('.sidebar-nav > ul');
      if (!navRoot) return;
      
      // Clean up old enhancements
      navRoot.querySelectorAll('.nav-icon, .section-arrow').forEach(el => el.remove());
      
      // Process each navigation item
      navRoot.querySelectorAll(':scope > li').forEach((li) => {
        const hasSubmenu = li.querySelector('ul');
        let link = li.querySelector(':scope > a');
        let sectionLabel = li.querySelector(':scope > .section-label');
        
        // Determine icon based on text
        let iconName = 'home';
        const text = (link?.textContent || sectionLabel?.textContent || '').trim();
        
        if (text.includes('Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©')) iconName = 'home';
        else if (text.includes('Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©') || text.includes('Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª')) iconName = 'requirements';
        else if (text.includes('Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª')) iconName = 'database';
        else if (text.includes('Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ§Øª')) iconName = 'api';
        else if (text.includes('Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª')) iconName = 'features';
        else if (text.includes('Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©')) iconName = 'admin';
        else if (text.includes('Ø§Ù„ØªÙƒØ§Ù…Ù„Ø§Øª')) iconName = 'integrations';
        else if (text.includes('Ø§Ù„ØªØ·ÙˆÙŠØ±')) iconName = 'development';
        else if (text.includes('Ø§Ù„Ø¬ÙˆØ§Ù„') || text.includes('Ø§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª')) iconName = 'mobile';
        else if (text.includes('Ø§Ù„Ø£Ù…Ø§Ù†')) iconName = 'security';
        else if (text.includes('Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª')) iconName = 'operations';
        else if (text.includes('Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹')) iconName = 'reference';
        
        // Create section label if needed
        if (!link && !sectionLabel && hasSubmenu) {
          let titleText = '';
          Array.from(li.childNodes).forEach(node => {
            if (node.nodeType === 3) {
              titleText += node.textContent.trim();
              node.textContent = '';
            }
          });
          
          sectionLabel = document.createElement('span');
          sectionLabel.className = 'section-label';
          sectionLabel.innerHTML = `
            <span class="nav-icon">${icons[iconName]}</span>
            <span>${titleText || 'Ù‚Ø³Ù…'}</span>
          `;
          li.insertBefore(sectionLabel, hasSubmenu);
        }
        
        // Add icon to link
        if (link && !link.querySelector('.nav-icon')) {
          const linkText = link.textContent;
          link.innerHTML = `
            <span class="nav-icon">${icons[iconName]}</span>
            <span>${linkText}</span>
          `;
        }
        
        // Add collapse arrow for sections
        if (hasSubmenu) {
          const arrow = document.createElement('span');
          arrow.className = 'section-arrow';
          arrow.innerHTML = icons.arrow;
          
          const clickTarget = sectionLabel || link;
          if (clickTarget) {
            clickTarget.appendChild(arrow);
            clickTarget.style.cursor = 'pointer';
            clickTarget.addEventListener('click', function(e) {
              if (!link || e.target.closest('.section-arrow')) {
                e.preventDefault();
                li.classList.toggle('open');
                
                // Save state
                const openSections = Array.from(navRoot.querySelectorAll('li.open')).map(el => {
                  return Array.from(navRoot.querySelectorAll('li')).indexOf(el);
                });
                localStorage.setItem('sidebarState', JSON.stringify(openSections));
              }
            });
          }
          
          // Restore open state
          const savedState = localStorage.getItem('sidebarState');
          if (savedState) {
            try {
              const openIndices = JSON.parse(savedState);
              const allItems = Array.from(navRoot.querySelectorAll('li'));
              const currentIndex = allItems.indexOf(li);
              if (openIndices.includes(currentIndex)) {
                li.classList.add('open');
              }
            } catch(e) {}
          }
        }
      });
      
      // Auto-open active section
      const activeLink = navRoot.querySelector('a.active');
      if (activeLink) {
        let parent = activeLink.parentElement;
        while (parent && parent !== navRoot) {
          if (parent.tagName === 'LI') {
            parent.classList.add('open');
          }
          parent = parent.parentElement;
        }
      }
    }
    
    // Update Reading Progress
    function updateReadingProgress() {
      const progressBar = document.getElementById('readingProgress');
      if (!progressBar) return;
      
      const updateProgress = () => {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        const progress = (scrollTop / scrollHeight) * 100;
        progressBar.style.width = progress + '%';
      };
      
      window.addEventListener('scroll', updateProgress, { passive: true });
      updateProgress();
    }
    
    // Setup Feedback Widget
    function setupFeedbackWidget() {
      const content = document.querySelector('.markdown-section');
      if (!content || document.getElementById('feedback-widget')) return;
      
      const widget = document.createElement('div');
      widget.id = 'feedback-widget';
      widget.className = 'feedback-widget';
      widget.innerHTML = `
        <div class="feedback-question">Ù‡Ù„ ÙƒØ§Ù†Øª Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© Ù…ÙÙŠØ¯Ø©ØŸ</div>
        <div class="feedback-buttons">
          <button class="feedback-btn positive" onclick="submitFeedback(true)">
            ğŸ‘ Ù†Ø¹Ù…
          </button>
          <button class="feedback-btn negative" onclick="submitFeedback(false)">
            ğŸ‘ Ù„Ø§
          </button>
        </div>
      `;
      
      content.appendChild(widget);
    }
    
    // Submit Feedback
    window.submitFeedback = function(isPositive) {
      const widget = document.getElementById('feedback-widget');
      if (widget) {
        widget.innerHTML = '<div class="feedback-thanks">Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ Ø¹Ù„Ù‰ Ø±Ø£ÙŠÙƒ! ğŸ’œ</div>';
        
        // Save feedback (in real app, send to backend)
        const feedback = {
          page: window.location.hash,
          positive: isPositive,
          timestamp: new Date().toISOString()
        };
        console.log('Feedback submitted:', feedback);
      }
    };
    
    // Setup Keyboard Shortcuts
    function setupKeyboardShortcuts() {
      let lastKey = '';
      
      document.addEventListener('keydown', (e) => {
        // Search shortcut: / or Ctrl+K
        if (e.key === '/' || (e.ctrlKey && e.key === 'k')) {
          e.preventDefault();
          const searchInput = document.querySelector('.search input');
          if (searchInput) searchInput.focus();
        }
        
        // Go home: G then H
        if (lastKey === 'g' && e.key === 'h') {
          e.preventDefault();
          window.location.hash = '/';
        }
        
        // Navigate with arrows
        if (e.key === 'ArrowLeft') {
          const nextBtn = document.querySelector('.pagination-item-next a');
          if (nextBtn) nextBtn.click();
        }
        if (e.key === 'ArrowRight') {
          const prevBtn = document.querySelector('.pagination-item-prev a');
          if (prevBtn) prevBtn.click();
        }
        
        // Toggle theme: T
        if (e.key === 't' && !e.ctrlKey && !e.metaKey) {
          const activeElement = document.activeElement;
          if (activeElement.tagName !== 'INPUT' && activeElement.tagName !== 'TEXTAREA') {
            e.preventDefault();
            toggleTheme();
          }
        }
        
        // Show shortcuts: ?
        if (e.key === '?' && !e.ctrlKey && !e.metaKey) {
          e.preventDefault();
          toggleShortcuts();
        }
        
        lastKey = e.key.toLowerCase();
      });
    }
    
    // Setup Back to Top
    function setupBackToTop() {
      const btn = document.getElementById('backToTop');
      if (!btn) return;
      
      window.addEventListener('scroll', () => {
        if (window.pageYOffset > 500) {
          btn.classList.add('visible');
        } else {
          btn.classList.remove('visible');
        }
      }, { passive: true });
      
      btn.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    }
    
    // Setup Theme Toggle
    function setupThemeToggle() {
      const btn = document.getElementById('themeToggle');
      if (!btn) return;
      
      btn.addEventListener('click', toggleTheme);
    }
    
    // Toggle Theme
    window.toggleTheme = function() {
      const currentTheme = document.body.getAttribute('data-theme') || 'light';
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';
      
      document.body.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
      updateThemeIcon(newTheme);
      
      showToast(`ØªÙ… Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„ÙˆØ¶Ø¹ ${newTheme === 'dark' ? 'Ø§Ù„Ù„ÙŠÙ„ÙŠ' : 'Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠ'}`, 'success');
    };
    
    // Update Theme Icon
    function updateThemeIcon(theme) {
      const btn = document.getElementById('themeToggle');
      if (!btn) return;
      
      const sunIcon = btn.querySelector('.sun-icon');
      const moonIcon = btn.querySelector('.moon-icon');
      
      if (theme === 'dark') {
        sunIcon.style.display = 'none';
        moonIcon.style.display = 'block';
      } else {
        sunIcon.style.display = 'block';
        moonIcon.style.display = 'none';
      }
    }
    
    // Setup Mobile Menu
    function setupMobileMenu() {
      const btn = document.getElementById('menuToggle');
      if (!btn) return;
      
      btn.addEventListener('click', () => {
        document.body.classList.toggle('sidebar-open');
      });
      
      // Close on link click
      document.addEventListener('click', (e) => {
        if (e.target.matches('.sidebar a') && window.innerWidth < 768) {
          setTimeout(() => {
            document.body.classList.remove('sidebar-open');
          }, 300);
        }
      });
    }
    
    // Toggle Shortcuts Modal
    window.toggleShortcuts = function() {
      const modal = document.getElementById('shortcutsModal');
      if (modal) {
        modal.style.display = modal.style.display === 'none' ? 'flex' : 'none';
      }
    };
    
    // Show Toast Notification
    window.showToast = function(message, type = 'info', duration = 3000) {
      const container = document.getElementById('toastContainer');
      if (!container) return;
      
      const toast = document.createElement('div');
      toast.className = `toast toast-${type}`;
      toast.textContent = message;
      
      container.appendChild(toast);
      
      setTimeout(() => {
        toast.classList.add('show');
      }, 10);
      
      setTimeout(() => {
        toast.classList.remove('show');
        setTimeout(() => {
          toast.remove();
        }, 300);
      }, duration);
    };
    
    // Initialize Tooltips
    function initTooltips() {
      document.querySelectorAll('[title]').forEach(el => {
        const title = el.getAttribute('title');
        el.removeAttribute('title');
        el.setAttribute('data-tooltip', title);
      });
    }
    
    // Add Version Selector
    function addVersionSelector() {
      const sidebar = document.querySelector('.sidebar');
      if (!sidebar || document.getElementById('version-selector')) return;
      
      const selector = document.createElement('div');
      selector.id = 'version-selector';
      selector.className = 'version-selector';
      selector.innerHTML = `
        <select onchange="changeVersion(this.value)">
          <option value="v2.0" selected>v2.0 (Ø§Ù„Ø­Ø§Ù„ÙŠ)</option>
          <option value="v1.9">v1.9</option>
          <option value="v1.8">v1.8</option>
        </select>
        <a href="#/changelog" class="changelog-link">Ø³Ø¬Ù„ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</a>
      `;
      
      const searchBox = sidebar.querySelector('.search');
      if (searchBox) {
        searchBox.parentNode.insertBefore(selector, searchBox.nextSibling);
      }
    }
    
    // Change Version
    window.changeVersion = function(version) {
      showToast(`Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø¥ØµØ¯Ø§Ø± ${version}...`, 'info');
      // In real app, redirect to different version
    };
    
    // Track Search Queries
    function trackSearchQueries() {
      const searchInput = document.querySelector('.search input');
      if (!searchInput) return;
      
      let searchTimeout;
      searchInput.addEventListener('input', (e) => {
        clearTimeout(searchTimeout);
        searchTimeout = setTimeout(() => {
          if (e.target.value.length > 2) {
            // Save recent searches
            const searches = JSON.parse(localStorage.getItem('recentSearches') || '[]');
            searches.unshift(e.target.value);
            const uniqueSearches = [...new Set(searches)].slice(0, 5);
            localStorage.setItem('recentSearches', JSON.stringify(uniqueSearches));
            
            // Track for analytics (in real app)
            console.log('Search query:', e.target.value);
          }
        }, 500);
      });
    }
    
    // Save/Restore Scroll Position
    function saveScrollPosition() {
      const key = `scrollPos_${window.location.hash}`;
      localStorage.setItem(key, window.pageYOffset);
    }
    
    function restoreScrollPosition() {
      const key = `scrollPos_${window.location.hash}`;
      const scrollPos = localStorage.getItem(key);
      if (scrollPos) {
        setTimeout(() => {
          window.scrollTo(0, parseInt(scrollPos));
        }, 100);
      }
    }
  </script>
  
  <!-- Load Docsify and Plugins -->
  <script src="//cdn.jsdelivr.net/npm/docsify@4/lib/docsify.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify@4/lib/plugins/search.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify-copy-code@2"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify-pagination/dist/docsify-pagination.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-javascript.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-json.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-markdown.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-python.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-typescript.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-yaml.min.js"></script>
</body>
</html>