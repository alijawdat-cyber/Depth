<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Depth Platform - Ù…Ù†ØµØ© Ù…ØªÙƒØ§Ù…Ù„Ø© Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ©" />
  <title>Depth Documentation v2.0</title>
  <link rel="icon" href="icon.svg" type="image/svg+xml" />
  
  <!-- Docsify Core -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css" />
  
  <!-- Custom Theme -->
  <link rel="stylesheet" href="custom-theme.css" />
  
  <!-- Prism Theme for Code Highlighting -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.css" />
</head>
<body>
  <!-- Loading Screen -->
  <div id="loading-screen" class="loading-screen">
    <div class="loading-content">
      <div class="loading-spinner"></div>
      <div class="loading-text">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙˆØ«ÙŠÙ‚...</div>
    </div>
  </div>

  <!-- Main App Container -->
  <div id="app">ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±...</div>

  <!-- Mobile Menu Toggle -->
  <button id="menuToggle" class="mobile-menu" type="button" aria-label="ÙØªØ­ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©">
    <svg class="menu-icon" width="20" height="20" viewBox="0 0 24 24" fill="none">
      <path d="M3 12h18M3 6h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    </svg>
    <span class="menu-text">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</span>
  </button>

  <!-- Back to Top Button -->
  <button id="backToTop" class="back-to-top" aria-label="Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ø¹Ù„Ù‰">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
      <path d="M12 19V5M5 12l7-7 7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </button>

  <!-- Theme Toggle -->
  <button id="themeToggle" class="theme-toggle" aria-label="ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹">
    <svg class="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none">
      <circle cx="12" cy="12" r="5" stroke="currentColor" stroke-width="2"/>
      <path d="M12 1v2m0 18v2m9-11h-2M5 12H3m16.364-6.364l-1.414 1.414M7.05 16.95l-1.414 1.414m12.728 0l-1.414-1.414M7.05 7.05L5.636 5.636" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    </svg>
    <svg class="moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" style="display: none;">
      <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </button>

  <!-- Reading Progress Bar -->
  <div id="readingProgress" class="reading-progress"></div>

  <!-- Toast Container -->
  <div id="toastContainer" class="toast-container"></div>

  <!-- Keyboard Shortcuts Modal -->
  <div id="shortcutsModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Ø§Ø®ØªØµØ§Ø±Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­</h3>
        <button class="modal-close" onclick="toggleShortcuts()">&times;</button>
      </div>
      <div class="modal-body">
        <div class="shortcut-item">
          <kbd>/</kbd> Ø£Ùˆ <kbd>Ctrl</kbd> + <kbd>K</kbd>
          <span>Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø³Ø±ÙŠØ¹</span>
        </div>
        <div class="shortcut-item">
          <kbd>G</kbd> Ø«Ù… <kbd>H</kbd>
          <span>Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
        </div>
        <div class="shortcut-item">
          <kbd>â†</kbd> / <kbd>â†’</kbd>
          <span>Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª</span>
        </div>
        <div class="shortcut-item">
          <kbd>T</kbd>
          <span>ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ</span>
        </div>
        <div class="shortcut-item">
          <kbd>?</kbd>
          <span>Ø¹Ø±Ø¶ Ø§Ù„Ø§Ø®ØªØµØ§Ø±Ø§Øª</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script>
    // ============================================
    // Configuration
    // ============================================
    window.$docsify = {
      name: 'Depth',
      repo: 'https://github.com/depth-platform/docs',
      homepage: 'main.md',
      loadSidebar: true,
      loadNavbar: false,
      subMaxLevel: 3,
      auto2top: true,
      maxLevel: 4,
      
      // Search Configuration
      search: {
        paths: 'auto',
        placeholder: 'Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„ØªÙˆØ«ÙŠÙ‚...',
        noData: 'Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù†ØªØ§Ø¦Ø¬',
        depth: 6,
        hideOtherSidebarContent: false,
        namespace: 'depth-docs-v2'
      },
      
      // Copy Code Configuration
      copyCode: {
        buttonText: 'Ù†Ø³Ø®',
        errorText: 'Ø®Ø·Ø£',
        successText: 'ØªÙ… Ø§Ù„Ù†Ø³Ø®!'
      },
      
      // Pagination
      pagination: {
        previousText: 'Ø§Ù„Ø³Ø§Ø¨Ù‚',
        nextText: 'Ø§Ù„ØªØ§Ù„ÙŠ',
        crossChapter: true,
        crossChapterText: true,
      },
      
      // Custom 404 Page
      notFoundPage: {
        '/': '404.md'
      },
      
      // Plugins
      plugins: [
        // Main Enhancement Plugin
        function(hook, vm) {
          // ========================================
          // Initialize
          // ========================================
          hook.init(function() {
            // Load saved theme
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.body.setAttribute('data-theme', savedTheme);
            updateThemeIcon(savedTheme);
            
            // Load saved sidebar state
            const sidebarState = localStorage.getItem('sidebarState');
            if (sidebarState) {
              try {
                window.sidebarOpenSections = JSON.parse(sidebarState);
              } catch(e) {
                window.sidebarOpenSections = [];
              }
            }
          });
          
          // ========================================
          // Before Each Page Render
          // ========================================
          hook.beforeEach(function(content) {
            // Add breadcrumbs placeholder
            const breadcrumbs = '<div id="breadcrumbs" class="breadcrumbs"></div>';
            
            // Add reading time
            const wordCount = content.split(/\s+/).length;
            const readingTime = Math.ceil(wordCount / 200);
            const readingTimeHtml = `
              <div class="reading-meta">
                <span class="reading-time">â±ï¸ ${readingTime} Ø¯Ù‚Ø§Ø¦Ù‚ Ù‚Ø±Ø§Ø¡Ø©</span>
                <span class="word-count">ğŸ“ ${wordCount} ÙƒÙ„Ù…Ø©</span>
              </div>
            `;
            
            return breadcrumbs + readingTimeHtml + content;
          });
          
          // ========================================
          // After Each Page Render
          // ========================================
          hook.doneEach(function() {
            // Hide loading screen
            const loadingScreen = document.getElementById('loading-screen');
            if (loadingScreen) {
              loadingScreen.style.opacity = '0';
              setTimeout(() => {
                loadingScreen.style.display = 'none';
              }, 300);
            }
            
            // Update breadcrumbs
            if (window.DepthDocs && window.DepthDocs.navigation) {
              window.DepthDocs.navigation.updateBreadcrumbs();
            }
            
            // Setup floating TOC
            if (window.DepthDocs && window.DepthDocs.navigation) {
              window.DepthDocs.navigation.setupFloatingTOC();
            }
            
            // Enhance headings with anchors
            if (window.DepthDocs && window.DepthDocs.navigation) {
              window.DepthDocs.navigation.enhanceHeadings();
            }
            
            // Setup sidebar enhancements
            if (window.DepthDocs && window.DepthDocs.sidebar) {
              window.DepthDocs.sidebar.enhance();
            }
            
            // Update reading progress
            if (window.DepthDocs && window.DepthDocs.navigation) {
              window.DepthDocs.navigation.updateReadingProgress();
            }
            
            // Setup feedback widget
            if (window.DepthDocs && window.DepthDocs.features) {
              window.DepthDocs.features.setupFeedbackWidget();
            }
          });
          
          // ========================================
          // Mounted
          // ========================================
          hook.mounted(function() {
            // Setup keyboard shortcuts
            setupKeyboardShortcuts();
            
            // Setup back to top button
            setupBackToTop();
            
            // Setup theme toggle
            setupThemeToggle();
            
            // Setup mobile menu
            setupMobileMenu();
          });
          
          // ========================================
          // Ready
          // ========================================
          hook.ready(function() {
            // Show welcome message for first-time visitors
            if (!localStorage.getItem('welcomed')) {
              showToast('Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ ØªÙˆØ«ÙŠÙ‚ Depth! Ø§Ø³ØªØ®Ø¯Ù… / Ù„Ù„Ø¨Ø­Ø« Ø§Ù„Ø³Ø±ÙŠØ¹', 'info', 5000);
              localStorage.setItem('welcomed', 'true');
            }
          });
        }
      ]
    };
    
    // ============================================
    // Helper Functions
    // ============================================
    
    // Update Theme Icon
    function updateThemeIcon(theme) {
      const btn = document.getElementById('themeToggle');
      if (!btn) return;
      
      const sunIcon = btn.querySelector('.sun-icon');
      const moonIcon = btn.querySelector('.moon-icon');
      
      if (theme === 'dark') {
        sunIcon.style.display = 'none';
        moonIcon.style.display = 'block';
      } else {
        sunIcon.style.display = 'block';
        moonIcon.style.display = 'none';
      }
    }
    
    // Setup Mobile Menu
    function setupMobileMenu() {
      const btn = document.getElementById('menuToggle');
      if (!btn) return;
      
      btn.addEventListener('click', () => {
        document.body.classList.toggle('sidebar-open');
      });
      
      // Close on link click
      document.addEventListener('click', (e) => {
        if (e.target.matches('.sidebar a') && window.innerWidth < 768) {
          setTimeout(() => {
            document.body.classList.remove('sidebar-open');
          }, 300);
        }
      });
    }
    
    // Global functions for external access
    window.toggleTheme = function() {
      if (window.DepthDocs && window.DepthDocs.features) {
        window.DepthDocs.features.toggleTheme();
      }
    };
    
    window.toggleShortcuts = function() {
      if (window.DepthDocs && window.DepthDocs.features) {
        window.DepthDocs.features.toggleShortcutsModal();
      }
    };
    
    window.showToast = function(message, type, duration) {
      if (window.DepthDocs && window.DepthDocs.ui) {
        window.DepthDocs.ui.showToast(message, type, duration);
      }
    };
  </script>
  
  <!-- Load Docsify and Plugins -->
  <script src="//cdn.jsdelivr.net/npm/docsify@4/lib/docsify.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify@4/lib/plugins/search.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify-copy-code@2"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify-pagination/dist/docsify-pagination.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-javascript.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-json.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-markdown.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-python.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-typescript.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-yaml.min.js"></script>
</body>
</html>