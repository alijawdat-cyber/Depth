# ๐ฑ ุฒุฑุน ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ (ุจุฐูุฑ) ุนุจุฑ ุณูุฑุจุช ุฎุงุฑุฌู - Depth V2.0

ุจูุฐุง ุงูุฅุตุฏุงุฑุ ุฒุฑุน ุงูุจุฐูุฑ ูุชู ุฎุงุฑุฌ ููุญุฉ ุงูุฃุฏูู ุนุจุฑ ุณูุฑุจุช Node.js ููุชุจ ูุจุงุดุฑุฉ ุฅูู Firestore. ูุงูู ุฃู CRUD ุฏุงุฎูู ููุจุฐูุฑ ููุง ุฒุฑ ุงุณุชูุฑุงุฏ ุฏุงุฎู ุงููุงุฌูุฉ.

## ุดููู ูุดุชุบู ุงูุณูุฑุจุชุ
- ููู ุชูููู JSON ุฎุงุฑุฌู ูุญุชูู ุงูููุงุฆู ุงูุฃุณุงุณูุฉ (ูุฆุงุช/ูุฑุนูุฉ/ุฃุณุนุงุฑ ุฃุณุงุณูุฉ).
- ุงูุณูุฑุจุช ููุฑุง ุงูููู ููุชุญูู ูู ุงูุฑุจุท ุจูู ุงูููุงูุงุช ูุจุนุฏูู ูุทุจูู ุงูุชุบููุฑุงุช ุนูู Firestore ุจุดูู ุฏูุนู ูุญุฏุฉ ูุฏ ุงูุฅููุงู (batch/transaction) ุญุชู ูุชุฌูุจ ุฅุฏุฎุงูุงุช ุฌุฒุฆูุฉ.
- ุงูุณูุฑุจุช ูุณุฌูู ุญุฏุซ ุชุฏูููู ุฏุงุฎู `auditLogs` ุญุชู ูุนุฑู ุดูู ุชุบููุฑ ููุชู.

## ุงููุชุทูุจุงุช
- ุฎุฏูุฉ ุญุณุงุจ (Service Account) ุจุตูุงุญูุฉ ูุชุงุจุฉ ุนูู Firestore ููุจูุฆุฉ ุงููุฑุงุฏ ุฒุฑุนูุง.
- ูุชุบูุฑุงุช ุจูุฆุฉ ููุงุชุตุงู (ูุซุงู: `GOOGLE_APPLICATION_CREDENTIALS`, `FIREBASE_PROJECT_ID`).
- ููู ุงูุจุฐูุฑ JSON.

## ูุซุงู ุตูุบุฉ ููู ุงูุจุฐูุฑ
ุฃุจุณุท ูุซุงู ุนููู:

```json
{
  "categories": [{ "id": "photo", "nameAr": "ุชุตููุฑ", "nameEn": "Photo", "code": "photo", "displayOrder": 1, "isActive": true }],
  "subcategories": [{ "id": "food", "categoryId": "photo", "nameAr": "ุทุนุงู", "nameEn": "Food", "code": "food", "basePrice": 380000, "isActive": true }]
}
```

ููุงุญุธุงุช ููููุฉ:
- ุงููุนุฑูุงุช ุซุงุจุชุฉ ููุงุถุญุฉ ููุง ุชุชุบูุฑ ุจูู ุงูุจูุฆุงุช.
- ุงูุชุญูู ูุดูู IDs ููุฑุฑุฉ ูุฑุจุท ููุณูุฑ ูููุงูุต.
- ุงูุชุทุจูู ูููู idempotent: ุชุดุบูู ุงูุณูุฑุจุช ุฃูุซุฑ ูู ูุฑุฉ ูุง ููุฑุฑ ุงููููุฏุ ุจุณ ูุนูู upsert (ุชุญุฏูุซ ุฅุฐุง ููุฌูุฏ/ุฅูุดุงุก ุฅุฐุง ูุงูู).

## ููุงุนุฏ ูุชูููุฏุงุช
- ูุงูู ุญุฐู ูู ุฏุงุฎู ุงููุธุงูุ ุงูุญุฐู/ุงูุฃุฑุดูุฉ ุชุตูุฑ ูู ุงูุณูุฑุจุช ุฅุฐุง ุชุญุชุงุฌ (ููุถูู soft-delete).
- ูุง ุชูุฌุฏ ุฃู ููุงุท API ุนุงูุฉ ููุจุฐูุฑ ูู V2.0.
- ุงูุณูุทุฑุฉ ุนูู ุงููุตูู: ุงูุณูุฑุจุช ูุดุชุบู ููุท ุจูุฏ ูููุฏุณ ุนูููุงุช/ูุฏูุฑ ูุธุงู ูููู ููุงุชูุญ ุงูุฎุฏูุฉ.

## ุงูุชุญูู ูุงูุฃุฎุทุงุก
- ุฅุฐุง ุงูููู ุจูู ุฃุฎุทุงุก (ุญููู ูุงูุตุฉ/IDs ููุฑุฑุฉ/ุฑุจุท ููุณูุฑ) ุงูุณูุฑุจุช ูููู ูุจู ุงููุชุงุจุฉ ููุทุจุน ุงูุฃุฎุทุงุก.
- ุจุนุฏ ุชุทุจูู ูุงุฌุญุ ูููุชุจ ุญุฏุซ ุชุฏูููู (Audit) ุจุงุณู `SEEDS_APPLIED` ููุง ููุฎุต (counts + checksum) ููุตุฏุฑ ุงูููู.

## ูุฎุฑุฌุงุช ูุชููุนุฉ
- ุนุฏูุงุฏ ูุฎุชุตุฑ: ุนุฏุฏ ุงููุฆุงุช/ุงููุฑุนูุฉ/ุงูุฃุณุนุงุฑ ุงููุถุงูุฉ ุฃู ุงููุญุฏูุซุฉ.
- `checksum` ููููู ุงููุฒุฑูุน + `version` ุงุฎุชูุงุฑู ุฏุงุฎู JSON ุฅุฐุง ุชุฑูุฏ ุชุชุจุน.
- ุณุฌู ุฏุงุฎู `auditLogs` ุญุชู ูุฑุงุฌุน ุฃู ุชุบููุฑ.

> ุชุฐููุฑ: ุฒุฑุน ุงูุจุฐูุฑ ุฎุงุฑุฌ ุงููุงุฌูุฉ ุจุงููุงูู. ุงููุงุฌูุฉ ููุท ุชุณุชููู ุงููุชุงุฆุฌ.
