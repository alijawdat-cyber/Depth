/* ğŸ§­ App Shell Layout and Sidebar styles */

.app-shell { /* Ø´Ø¨ÙƒØ© Ø±Ø¦ÙŠØ³ÙŠØ© */
  display: grid; /* Ø´Ø¨ÙƒØ© */
  grid-template-areas: "header header" "sidebar main"; /* Ù…Ù†Ø§Ø·Ù‚ */
  grid-template-columns: var(--sidebar-width) 1fr; /* Ø¹Ù…ÙˆØ¯ Ø³Ø§ÙŠØ¯Ø¨Ø§Ø± + Ù…Ø­ØªÙˆÙ‰ */
  grid-template-rows: var(--header-height) 1fr; /* Ù‡ÙŠØ¯Ø± Ø«Ø§Ø¨Øª */
  height: 100dvh; /* ØªØ«Ø¨ÙŠØª Ø§Ù„Ø¥Ø·Ø§Ø± Ø¨ÙƒØ§Ù…Ù„ Ø§Ù„Ø´Ø§Ø´Ø© */
  overflow: hidden; /* Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù…Ø­ØµÙˆØ± Ø¯Ø§Ø®Ù„ aside/main */
  background-color: var(--color-bg-primary); /* Ø®Ù„ÙÙŠØ© */
}

.app-header { /* Ø±Ø£Ø³ Ù…ÙˆØ­Ù‘Ø¯ */
  grid-area: header; /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‡ÙŠØ¯Ø± */
  display: flex; align-items: center; justify-content: space-between; /* ØªÙˆØ²ÙŠØ¹ */
  padding: 0 var(--space-md); /* ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø­Ø´Ùˆ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ Ù„Ù„Ø§Ù‚ØªØ±Ø§Ø¨ Ù…Ù† Ø§Ù„Ø­ÙˆØ§Ù */
  background-color: var(--color-bg-secondary); /* Ø®Ù„ÙÙŠØ© */
  border-bottom: 1px solid var(--color-border-primary); /* Ø­Ø¯ */
  z-index: var(--z-fixed); height: var(--header-height); /* Ø·Ø¨Ù‚Ø© ÙˆØ§Ø±ØªÙØ§Ø¹ */
}

/* Ø´Ø¹Ø§Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¶Ù…Ù† Ø§Ù„Ù‡ÙŠØ¯Ø± - ÙŠØ¹ØªÙ…Ø¯ Ø§Ù„ØªÙˆÙƒÙ†Ø² */
.app-logo { height: var(--fs-lg); width: auto; display: block; }

/* Ø¯Ø§ÙƒÙ† ÙÙ‚Ø·: Ø®Ù„ÙŠ Ø§Ù„Ø´Ø¹Ø§Ø± ÙŠØ·Ù„Ø¹ Ø¨Ù„ÙˆÙ† ÙØ§ØªØ­ (ÙŠØ¹Ø§Ø¯Ù„ text-inverse) Ø¨Ø¯ÙˆÙ† ØªØºÙŠÙŠØ± Ù…Ù„Ù Ø§Ù„ØªÙˆÙƒÙ†Ø² Ø£Ùˆ Ø§Ù„Ù€ SVG */
[data-mantine-color-scheme="dark"] .app-header .app-logo {
  filter: brightness(0) invert(1); /* ÙŠØ­ÙˆÙ‘Ù„ Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¯Ø§ÙƒÙ†Ø© Ø¥Ù„Ù‰ ÙØ§ØªØ­Ø© */
}

.app-sidebar { /* Ø³Ø§ÙŠØ¯Ø¨Ø§Ø± Ù…ÙˆØ­Ù‘Ø¯ */
  grid-area: sidebar; /* Ù…Ù†Ø·Ù‚Ø© */
  padding: var(--space-md) var(--space-md) var(--space-lg); /* Ø­Ø´Ùˆ */
  background-color: var(--color-bg-secondary); /* Ø®Ù„ÙÙŠØ© */
  border-inline-end: 1px solid var(--color-border-primary); /* Ø­Ø¯ Ù…Ù†Ø·Ù‚ÙŠ */
  overflow-y: auto; scrollbar-width: thin; /* ØªÙ…Ø±ÙŠØ± */
}

.app-main { /* Ù…Ø­ØªÙˆÙ‰ Ø±Ø¦ÙŠØ³ÙŠ */
  grid-area: main; padding: var(--space-lg); background-color: var(--color-bg-primary); overflow-y: auto; min-height: 0; /* Ù…Ù†Ø¹ Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØªÙ…Ø±ÙŠØ± */
}

/* Ù…ÙˆØ¨Ø§ÙŠÙ„: Ø§Ù„Ø³Ø§ÙŠØ¯Ø¨Ø§Ø± ÙƒÙ€ overlay ÙŠÙØªØ­ Ù…Ù† Ø¬Ù‡Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ© (RTL-ready) */
@media (max-width: 640px) {
  .app-shell { grid-template-areas: "header" "main"; grid-template-columns: 1fr; grid-template-rows: var(--header-height) 1fr; height: 100dvh; overflow: hidden; }
  .app-shell .app-main {
    padding-inline: calc(var(--space-sm) + var(--space-xs)); /* Ø²ÙŠØ§Ø¯Ø© Ø·ÙÙŠÙØ© Ù„Ù„Ø­Ø§ÙØ© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© */
    padding-block: var(--space-sm);
    min-height: calc(100dvh - var(--header-height));
    width: 100%;
    overflow-x: hidden;
  }

  /* Ø³Ø§ÙŠØ¯Ø¨Ø§Ø± Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„: Ø­Ø´Ùˆ Ù…ÙˆØ­Ù‘Ø¯ ÙˆØµØºÙŠØ± Ù…Ù† ÙƒÙ„ Ø§Ù„Ø¬Ù‡Ø§Øª */
  .mobile-sidebar {
    padding: var(--space-sm) !important;
    /* ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø¹Ø±Ø¶ Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ Ù„ÙƒÙ„ Ø§Ù„Ø£Ø¯ÙˆØ§Ø± Ø¨Ø¯ÙˆÙ† Ø§Ù„Ù…Ø³Ø§Ø³ Ø¨Ù€ tokens.css */
    width: min(
      calc(var(--sidebar-width) - var(--space-xl)),
      calc(100vw - var(--space-lg))
    ) !important;
  }

  /* ØªÙ‚Ù„ÙŠÙ„ ÙƒØ«Ø§ÙØ© Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø¯Ø§Ø®Ù„ Ø³Ø§ÙŠØ¯Ø¨Ø§Ø± Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
  .mobile-sidebar .mantine-NavLink-root {
    padding-block: var(--space-sm) !important;
  }

  /* Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø­Ø´Ùˆ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ Ø§Ù„Ù…ÙƒØ±Ø± Ù…Ù† Ø£ÙŠ Container Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¨Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
  .app-main .mantine-Container-root { padding-inline: 0 !important; }

  /* ===== Ø¶Ø¨Ø· Ø§Ù„ÙƒØ«Ø§ÙØ© Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠØ© Ù„ÙƒÙ„ Ø§Ù„Ø£Ø¯ÙˆØ§Ø± Ø¨Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ ===== */
  .app-main .mantine-Container-root .mantine-Stack-root { gap: var(--space-sm) !important; }
  .app-main .mantine-Container-root .mantine-Group-root { gap: var(--space-sm) !important; }
  .app-main .mantine-Container-root .mantine-Divider-root { margin-block: var(--space-sm) !important; }
  .app-main .mantine-Container-root .mantine-Card-root { padding: var(--space-md) !important; }

  .app-main .mantine-Container-root .mantine-Card-root + .mantine-Alert-root { margin-top: var(--space-md) !important; }

  .mobile-sidebar .sidebar-inner { padding: var(--space-sm) !important; }
  .app-sidebar .sidebar-inner { padding-inline: var(--space-md); padding-block: var(--space-sm); }
}

/* Ø·Ø¨Ù‚Ø§Øª overlay Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
.mobile-overlay { position: fixed; top: var(--header-height); inset-inline: 0; bottom: 0; background: var(--overlay-scrim); z-index: var(--z-fixed); }
.mobile-sidebar { position: fixed; top: var(--header-height); inset-inline-start: 0; width: var(--sidebar-width); height: calc(100dvh - var(--header-height)); background-color: var(--color-bg-secondary); border-inline-start: 1px solid var(--color-border-primary); box-shadow: var(--shadow-lg); }

/* Sidebar NavLink UX */
.app-sidebar .mantine-NavLink-root {
  padding-inline: 0 !important;
  padding-block: var(--space-md);
  text-align: right;
  border-radius: var(--radius-md);
  transition: background-color .15s ease, color .15s ease, box-shadow .15s ease;
}

.app-sidebar .mantine-NavLink-root:hover,
.app-sidebar .mantine-NavLink-root:focus-visible {
  background-color: color-mix(in oklab, var(--color-primary) 30%, var(--color-bg-secondary));
  padding-inline-start: var(--space-sm);
}

.app-sidebar .mantine-NavLink-root[aria-current="page"],
.app-sidebar .mantine-NavLink-root[data-active="true"] {
  background-color: color-mix(in oklab, var(--color-primary) 30%, var(--color-bg-secondary));
  box-shadow: inset 0 0 0 1px var(--color-border-primary);
  padding-inline-start: var(--space-sm);
}

.app-sidebar .mantine-NavLink-body { flex: 1 1 auto; min-width: 0; }
.app-sidebar .mantine-NavLink-label { display: block; width: 100%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.app-sidebar .mantine-NavLink-section:first-child { margin-inline-end: var(--space-xs); }
.app-sidebar .mantine-NavLink-section:last-child { margin-inline-start: var(--space-sm); }
.app-sidebar .mantine-NavLink-children { border-inline-start: 1px solid var(--color-border-primary); margin-inline-start: var(--space-md); padding-inline-start: var(--space-sm); }
