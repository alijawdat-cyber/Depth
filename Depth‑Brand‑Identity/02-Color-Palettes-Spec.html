<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Depth — مساطر لونية 2025 (Purple + Indigo)</title>
  <style>
    :root{
      /* Neutrals / Ink base */
      --ink-900:#0B0F14; --ink-800:#1A232C; --slate-600:#6A7D8F;
      --neutral-0:#FFFFFF; --neutral-50:#F6F8FA; --neutral-100:#EDF2F6; --neutral-200:#D9E1E9;
      --neutral-300:#C2CDD8; --neutral-400:#A9B7C5; --neutral-500:#90A1B2; --neutral-600:#6A7D8F;
      --neutral-700:#44515D; --neutral-800:#28313A; --neutral-900:#0B0F14;

      /* Accent ramp (defaults to Purple 2025). Will be overridden by [data-palette] */
      --accent-200:#D7C7FF; --accent-300:#B79AFF; --accent-400:#8E5BFF; --accent-500:#6C2BFF; --accent-700:#4A1FC9;

      --bg:#FFFFFF; --text:#0B0F14; --card:#F6F8FA; --elev:#EDF2F6; --muted:#6A7D8F;
      /* Light/Dark aliases for docs parity */
      --bg-light: var(--bg); --text-light: var(--text);
      --bg-dark: var(--ink-900); --text-dark: #FFFFFF;
      --radius:14px; --radius-sm:10px; --shadow:0 8px 30px rgba(0,0,0,.08);
      --focus: 0 0 0 3px var(--neutral-0), 0 0 0 6px var(--accent-400);

      /* Gradient tokens (computed in JS) */
      --grad-accent-micro: linear-gradient(90deg, var(--accent-400), var(--accent-500));
      --grad-cta: linear-gradient(90deg, var(--accent-500), var(--accent-700));
      --grad-surface: linear-gradient(180deg, var(--neutral-0), var(--neutral-50));
      --grad-ink-gloss: linear-gradient(180deg, var(--ink-800), var(--ink-900));
      --grad-accent-radial: radial-gradient(60% 70% at 50% 40%, var(--accent-300), transparent 70%);
      --grad-duotone: linear-gradient(120deg, var(--ink-800), var(--accent-700));
    }

    /* Palette A — Purple 2025 (بنفسجي حديث) */
    body[data-palette="purple2025"]{
      --accent-200:#D7C7FF; /* خلفيات ناعمة */
      --accent-300:#B79AFF; /* Badges/Chips */
      --accent-400:#8E5BFF; /* Hover/Focus */
      --accent-500:#6C2BFF; /* CTA أساسي */
      --accent-700:#4A1FC9; /* CTA داكن/Hover */
    }

    /* Palette B — Indigo 2025 (أزرق غامق قريب للبنفسجي) */
    body[data-palette="indigo2025"]{
      --accent-200:#C3D0FF; /* خلفيات ناعمة */
      --accent-300:#9AB1FF; /* Badges/Chips */
      --accent-400:#6A86FF; /* Hover/Focus */
      --accent-500:#3E5BFF; /* CTA أساسي */
      --accent-700:#253DB8; /* CTA داكن/Hover */
    }

    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--text);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial}
    header{position:sticky;top:0;background:var(--bg);border-bottom:1px solid var(--elev);z-index:10}
    .wrap{max-width:1200px;margin:auto;padding:20px 24px}
    h1{margin:0 0 6px 0;font-size:26px}
    h2{margin:18px 0 10px;font-size:20px}
    h3{margin:12px 0 8px;font-size:16px}
    .grid{display:grid;gap:14px}
    .grid.cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}
    .grid.cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}
    .grid.cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}
    .row{display:flex;align-items:center;gap:10px}
    .badge{padding:6px 10px;border-radius:999px;background:var(--elev);font-size:13px;color:var(--muted)}
    .card{background:var(--card);border:1px solid var(--elev);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px}
    .swatch{border-radius:12px;height:78px;border:1px solid var(--elev);position:relative;cursor:pointer}
    .swatch small{position:absolute;bottom:8px;left:10px;background:rgba(255,255,255,.75);padding:2px 6px;border-radius:8px;font-size:12px}
    .legend{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px;font-size:13px;color:var(--muted)}

    .controls{display:flex;gap:8px;flex-wrap:wrap}
    .pill{border:1px solid var(--elev);background:var(--neutral-0);padding:8px 12px;border-radius:999px;cursor:pointer}
    .pill[aria-pressed="true"]{background:var(--accent-400);color:#fff;border-color:transparent}

    .preview{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:14px}
    .panel{border-radius:var(--radius);overflow:hidden;border:1px solid var(--elev)}
    .panel.light{background:#FFFFFF;color:#0B0F14}
    .panel.dark{background:#0B0F14;color:#FFFFFF}
    .panel .inner{padding:16px}
    .btns{display:flex;gap:10px;flex-wrap:wrap}
    .btn{padding:10px 14px;border-radius:10px;border:1px solid var(--elev);background:var(--card);color:var(--text)}
    .btn.acc{background:var(--accent-500);color:#FFFFFF;border:0}
    .btn.acc:hover{background:var(--accent-700)}

    .logo-demo{display:flex;align-items:center;justify-content:center;height:140px;border-top:1px solid var(--elev);background:linear-gradient(180deg,transparent,rgba(0,0,0,.03))}
    .logo-mark{width:100px;height:100px;border-radius:18px;position:relative}
    .logo-mark.dark{background:#0B0F14}
    .logo-mark.light{background:#FFFFFF;border:1px solid var(--elev)}
    .logo-mark::before{content:"";position:absolute;inset:18px;border:6px solid currentColor;border-radius:28px}
    .logo-mark::after{content:"";position:absolute;inset:34px;border:6px solid currentColor;border-radius:24px}

    .gradient{height:78px;border-radius:12px;border:1px solid var(--elev)}
    .tile{height:78px;border-radius:12px;border:1px solid var(--elev);background:
      radial-gradient(100% 100% at 0% 0%,rgba(255,255,255,.04),transparent),
      repeating-linear-gradient(135deg,rgba(255,255,255,.06) 0 2px,transparent 2px 18px),
      var(--ink-900)}

    code{background:var(--elev);padding:2px 6px;border-radius:6px}
    footer{margin:34px 0 18px;color:var(--muted);text-align:center}

    @media(max-width:900px){ .grid.cols-4,.grid.cols-3,.grid.cols-2,.preview{grid-template-columns:1fr} }
  </style>
</head>
<body data-palette="purple2025">
  <header>
    <div class="wrap">
      <div class="row" style="justify-content:space-between;flex-wrap:wrap;gap:10px">
        <div>
          <h1>مساطر لونية — Depth 2025</h1>
          <div class="legend">بنفسجي حديث + أزرق غامق قريب للبنفسجي — جاهزة للوضع الفاتح والداكن — WCAG AA</div>
        </div>
        <div class="controls" aria-label="Palette switch (preview only)">
          <button class="pill" data-palette="purple2025" aria-pressed="true">Purple 2025</button>
          <button class="pill" data-palette="indigo2025" aria-pressed="false">Indigo 2025</button>
          <span class="badge">التبديل للمعاينة فقط — التوكنز ثابتة</span>
        </div>
      </div>
    </div>
  </header>

  <main class="wrap">
    <section class="grid cols-4" id="swatches"></section>

    <h2>وين نستخدم كل درجة (مختصر)</h2>
    <section class="grid cols-3" id="usage"></section>

    <h2>معاينة سريعة</h2>
    <section class="preview">
      <div class="panel light">
        <div class="inner">
          <h3 style="margin-top:0">فاتح</h3>
          <p>نص واضح، زر CTA بالأكسنت، حدود حيادية.</p>
          <div class="btns">
            <button class="btn acc">CTA أساسي</button>
            <button class="btn">زر ثانوي</button>
          </div>
          <div class="legend" id="contrastLight"></div>
        </div>
        <div class="logo-demo">
          <div class="logo-mark light" style="color:var(--ink-900)" title="شعار على فاتح"></div>
        </div>
      </div>
      <div class="panel dark">
        <div class="inner">
          <h3 style="margin-top:0">داكن</h3>
          <p>نص أبيض على Ink 900، CTA بأكسنت.</p>
          <div class="btns">
            <button class="btn acc">CTA أساسي</button>
            <button class="btn" style="background:#1A232C;color:#FFFFFF;border-color:#28313A">زر ثانوي</button>
          </div>
          <div class="legend" id="contrastDark"></div>
        </div>
        <div class="logo-demo">
          <div class="logo-mark dark" style="color:#FFFFFF" title="شعار على داكن"></div>
        </div>
      </div>
    </section>

    <h2>Gradients ثابتة</h2>
    <section class="grid cols-2" id="gradients">
      <div class="card">
        <h3 style="margin-top:0">Accent Micro</h3>
        <div class="gradient" id="gMicro"></div>
        <div class="legend"><code id="codeMicro"></code></div>
      </div>
      <div class="card">
        <h3 style="margin-top:0">CTA Gradient</h3>
        <div class="gradient" id="gCTA"></div>
        <div class="legend"><code id="codeCTA"></code></div>
      </div>
      <div class="card">
        <h3 style="margin-top:0">Surface (Light)</h3>
        <div class="gradient" id="gSurface"></div>
        <div class="legend"><code id="codeSurface"></code></div>
      </div>
      <div class="card">
        <h3 style="margin-top:0">Ink Gloss (Dark)</h3>
        <div class="gradient" id="gInkGloss"></div>
        <div class="legend"><code id="codeInkGloss"></code></div>
      </div>
      <div class="card">
        <h3 style="margin-top:0">Accent Radial</h3>
        <div class="gradient" id="gRadial"></div>
        <div class="legend"><code id="codeRadial"></code></div>
      </div>
      <div class="card">
        <h3 style="margin-top:0">Duotone</h3>
        <div class="gradient" id="gDuotone"></div>
        <div class="legend"><code id="codeDuotone"></code></div>
      </div>
    </section>

    <h2>Tokens</h2>
    <section class="grid cols-3">
      <div class="card" id="tokensCard"><h3 style="margin-top:0">ألوان نشطة</h3><div id="tokens"></div></div>
      <div class="card">
        <h3 style="margin-top:0">Pattern على الداكن</h3>
        <div class="tile" title="Contour tile on Ink 900"></div>
        <div class="legend">Contour بسيط (3–6%)</div>
      </div>
      <div class="card">
        <h3 style="margin-top:0">ملاحظات</h3>
        <ul>
          <li>الشعار: على الداكن Stroke أبيض، على الفاتح Stroke Ink.</li>
          <li>Focus ring بالأكسنت 2–3px.</li>
          <li>الموشن: Intro 1.0s / Outro 0.7s / Ease Out.</li>
        </ul>
      </div>
    </section>
  </main>

  <footer>© Depth — Color System (Purple/Indigo 2025)</footer>

<script>
(function(){
  const swatches = document.getElementById('swatches');
  const tokensBox = document.getElementById('tokens');
  const usageBox = document.getElementById('usage');

  const $ = (sel)=>document.querySelector(sel);
  const $$ = (sel)=>[...document.querySelectorAll(sel)];

  function color(varName){ return getComputedStyle(document.documentElement).getPropertyValue(varName).trim(); }
  function setVar(name,val){ document.documentElement.style.setProperty(name,val); }
  function luminance(hex){ const c = hex.replace('#',''); const r=parseInt(c.substr(0,2),16)/255; const g=parseInt(c.substr(2,2),16)/255; const b=parseInt(c.substr(4,2),16)/255; const a=[r,g,b].map(v=> v<=0.03928 ? v/12.92 : Math.pow((v+0.055)/1.055,2.4)); return 0.2126*a[0]+0.7152*a[1]+0.0722*a[2]; }
  function contrast(h1,h2){ const L1=luminance(h1), L2=luminance(h2); const high=Math.max(L1,L2)+0.05, low=Math.min(L1,L2)+0.05; return (high/low).toFixed(2); }

  function swatchHTML(label, varName, note){
    const hex = color(varName);
    return `<div class="card"><div class="swatch" data-hex="${hex}" title="انسخ اللون"><small>نسخ</small></div><div class="row" style="justify-content:space-between"><strong>${label}</strong><code>${hex}</code></div>${note?`<div class="legend">${note}</div>`:''}</div>`;
  }

  function buildSwatches(){
    const neutrals = ['--neutral-0','--neutral-50','--neutral-100','--neutral-200','--neutral-300','--neutral-400','--neutral-500','--neutral-600','--neutral-700','--neutral-800','--neutral-900'];
    const accents = ['--accent-200','--accent-300','--accent-400','--accent-500','--accent-700'];
    let html='';
    html += '<div class="card" style="grid-column:1/-1"><h3 style="margin-top:0">Neutrals / Ink</h3></div>';
    neutrals.forEach(v=> html += swatchHTML(v.replace('--',''), v));
    html += '<div class="card" style="grid-column:1/-1"><h3 style="margin-top:0">Accent Ramp</h3></div>';
    const usageNotes = {
      '--accent-200':'خلفيات ناعمة/لمسات خفيفة',
      '--accent-300':'Badges/Chips',
      '--accent-400':'Hover/Focus ring',
      '--accent-500':'CTA أساسي',
      '--accent-700':'CTA داكن/Hover قوي'
    };
    accents.forEach(v=> html += swatchHTML(v.replace('--',''), v, usageNotes[v]));
    swatches.innerHTML = html;

    // Paint swatches background
    $$('#swatches .swatch').forEach((el)=>{ el.style.background = el.dataset.hex; el.addEventListener('click',()=>{ navigator.clipboard.writeText(el.dataset.hex); el.querySelector('small').textContent='تم النسخ'; setTimeout(()=> el.querySelector('small').textContent='نسخ',900); }); });
  }

  function renderTokens(){
    const keys=['--ink-900','--ink-800','--slate-600','--accent-200','--accent-300','--accent-400','--accent-500','--accent-700'];
    tokensBox.innerHTML = keys.map(k=>`<div class="row" style="justify-content:space-between"><code>${k}</code><span>${color(k)}</span></div>`).join('');
  }

  function renderUsage(){
    const items = [
      {title:'CTA أساسي', var:'--accent-500', tip:'الزر الرئيسي/روابط مهمة'},
      {title:'CTA Hover', var:'--accent-700', tip:'مرور المؤشر/حالة ضغط'},
      {title:'Focus Ring', var:'--accent-400', tip:'إبراز عناصر الإدخال'},
      {title:'Badges/Chips', var:'--accent-300', tip:'بطاقات صغيرة/وسوم'},
      {title:'خلفية ناعمة', var:'--accent-200', tip:'لمسات خفيفة/Background tint'},
      {title:'نص/أيقونات على داكن', var:'#FFFFFF', tip:'استخدم أبيض على Ink 900'}
    ];
    usageBox.innerHTML = items.map(({title,var:vn,tip})=>{
      const hex = vn.startsWith('--')? color(vn): vn;
      return `<div class="card"><div class="row" style="justify-content:space-between"><strong>${title}</strong><code>${vn}</code></div><div class="swatch" style="background:${hex}"></div><div class="legend">${tip}</div></div>`;
    }).join('');
  }

  // Color helpers for gradients
  function hexToRgb(hex){ hex=hex.replace('#',''); return {r:parseInt(hex.slice(0,2),16), g:parseInt(hex.slice(2,4),16), b:parseInt(hex.slice(4,6),16)} }
  function rgbToHex({r,g,b}){ const to=h=>('0'+h.toString(16)).slice(-2); return `#${to(r)}${to(g)}${to(b)}` }
  function mix(h1,h2,w){ const a=hexToRgb(h1), b=hexToRgb(h2); const r=Math.round(a.r*(1-w)+b.r*w), g=Math.round(a.g*(1-w)+b.g*w), b2=Math.round(a.b*(1-w)+b.b*w); return rgbToHex({r,g,b:b2}); }
  function shade(hex,amt){ const {r,g,b}=hexToRgb(hex); const f=(v)=>Math.max(0,Math.min(255,Math.round(v+(amt*255)))); return rgbToHex({r:f(r),g:f(g),b:f(b)}); }

  function computeGradients(){
    const a300=color('--accent-300'), a400=color('--accent-400'), a500=color('--accent-500'), a700=color('--accent-700');
    const n0=color('--neutral-0'), n50=color('--neutral-50'); const i800=color('--ink-800'), i900=color('--ink-900');
    const gradMicro = `linear-gradient(90deg, ${a400} 0%, ${mix(a400,a500,0.35)} 50%, ${a500} 100%)`;
    const gradCTA = `linear-gradient(90deg, ${shade(a500, -0.04)} 0%, ${a700} 100%)`;
    const gradSurface = `linear-gradient(180deg, ${n0} 0%, ${n50} 100%)`;
    const gradInkGloss = `linear-gradient(180deg, ${i800} 0%, ${i900} 65%)`;
    const gradRadial = `radial-gradient(60% 70% at 50% 40%, ${a300} 0%, transparent 70%)`;
    const gradDuotone = `linear-gradient(120deg, ${mix(i900,a700,0.35)} 0%, ${mix(i900,a400,0.35)} 100%)`;

    setVar('--grad-accent-micro',gradMicro); setVar('--grad-cta',gradCTA); setVar('--grad-surface',gradSurface); setVar('--grad-ink-gloss',gradInkGloss); setVar('--grad-accent-radial',gradRadial); setVar('--grad-duotone',gradDuotone);

    const map=[['gMicro','--grad-accent-micro','codeMicro'],['gCTA','--grad-cta','codeCTA'],['gSurface','--grad-surface','codeSurface'],['gInkGloss','--grad-ink-gloss','codeInkGloss'],['gRadial','--grad-accent-radial','codeRadial'],['gDuotone','--grad-duotone','codeDuotone']];
    map.forEach(([id,v,code])=>{ const css=getComputedStyle(document.documentElement).getPropertyValue(v).trim(); document.getElementById(id).style.background=css; document.getElementById(code).textContent = `${v}: ${css};`; });
  }

  function computeContrast(){
    const onLight = contrast('#FFFFFF', color('--ink-900'));
    const onDark  = contrast(color('--ink-900'), '#FFFFFF');
    document.getElementById('contrastLight').textContent = `تباين على الفاتح: ${onLight} (هدف ≥ 4.5)`;
    document.getElementById('contrastDark').textContent  = `تباين على الداكن: ${onDark} (هدف ≥ 4.5)`;
  }

  function refresh(){
    buildSwatches();
    renderTokens();
    renderUsage();
    computeGradients();
    computeContrast();
  }

  // Palette toggle (preview only)
  $$('.pill[data-palette]').forEach(btn=>{
    btn.addEventListener('click',()=>{
      const p = btn.getAttribute('data-palette');
      document.body.setAttribute('data-palette', p);
      $$('.pill[data-palette]').forEach(b=> b.setAttribute('aria-pressed', String(b===btn)));
      refresh();
    });
  });

  // First paint
  refresh();
})();
</script>
</body>
</html>
